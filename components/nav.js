import { useState, useEffect, useRef } from "react"
import { useFocusRing } from "react-aria"
import styles from "./styles/nav.module.scss"
import Button from "./button"

function Nav() {
  const [shouldUseSticky, setShouldUseSticky] = useState(false)

  const navRef = useRef()
  console.log("rendering")

  useEffect(() => {
    const listener = addEventListener("scroll", () => {
      if (window.scrollY > 70) {
        setShouldUseSticky(true)
      } else {
        if (shouldUseSticky) {
          setShouldUseSticky(false)
        }
      }
    })

    return () => window.removeEventListener("scroll", listener)
  }, [shouldUseSticky])

  return (
    <nav
      ref={navRef}
      className={`${styles.container} ${
        shouldUseSticky ? styles.stickyNav : undefined
      }`}
    >
      <h1>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          x="0"
          y="0"
          enableBackground="new 0 0 614.5 376.56"
          version="1.1"
          viewBox="0 0 614.5 376.56"
          xmlSpace="preserve"
          style={{ width: "80px" }}
        >
          <path
            id="0"
            fill="#040505"
            d="M551 153.65c-1.65.18-3.43 3.02-5.33 8.51-14.28 39.96-21.32 68.49-21.12 85.58.83 36.92 1.77 45.66 1.76 52.61-.04 20.05-.79 35.12-2.27 45.21-.42 2.55-.5 4.37-.24 5.45.27 1.22.86 1.51 1.76.85.77-.64 1.84-2.22 3.24-4.74 14.36-26.47 22.86-52.47 22.32-108.34-.54-39.31-.06-64.83 1.45-76.54.31-2.26.38-4.14.22-5.66-.23-2.06-.83-3.04-1.79-2.93z"
          ></path>
          <path
            id="1"
            fill="#040505"
            d="M202.99 312.07c14.71-24.62 22.18-50.58 22.18-77.11 0-15.11-4.26-28.71-12.67-40.42-8.37-11.65-17.9-17.31-29.16-17.31-9.6 0-19.79 12.07-30.28 35.87-8.96 20.49-13.51 34.67-13.51 42.16 0 9.37 2.62 17.2 7.79 23.28 5.15 6.06 11.97 9.01 20.83 9.01 5.24 0 10.89-1.18 16.8-3.52 2.42-.93 4.43-1.37 6.18-1.37 3.6 0 4.88 2.27 4.88 4.39 0 1.83-.8 3.72-2.44 5.77-18.18 23.1-51.15 48.29-97.96 74.88-6.06 3.49-6.96 5.82-6.96 6.9 0 1.62 2.93 1.96 5.39 1.96 9.16 0 22.41-3.08 39.37-9.16 16.22-5.78 28.56-11.54 36.67-17.11 10.94-7.6 22.01-20.46 32.89-38.22z"
          ></path>
          <path
            id="2"
            fill="#040505"
            d="M115.73 243.22c0-29.81-15.01-54.07-44.61-72.12-1.67-.99-3.14-1.52-4.25-1.52-.59 0-1.98 0-3.07 2.86-10.87 24.03-19.9 43.14-26.87 56.94-1.46 4.8-.18 8.66 4 12.15 27.64 22.61 41.08 39.94 41.08 52.96 0 3.43-2.32 10.31-22.38 30.36-14.83 15.15-30.96 28.8-47.92 40.54C1.68 372.55.21 375.53 0 376.34c.27.09.83.23 1.93.23 1.94 0 4.65-.39 8.06-1.17 28.4-7.02 50.49-18.33 65.59-33.59 8.55-8.71 17.2-22.87 25.68-42.08 9.61-21.6 14.47-40.61 14.47-56.51z"
          ></path>
          <path
            id="3"
            fill="#040505"
            d="M414.87 286l-9.18 6.01c3.2-1.91 6.27-3.93 9.18-6.01z"
          ></path>
          <path
            id="4"
            fill="#ACAEB0"
            d="M362.07 174.75c.82-.16 2.42-.96 4.81-2.39 15.22-9.29 23.57-14.51 25.05-15.65 7.11-5.02 14.65-11.89 22.63-20.6 7.01-7.67 12.46-15.71 16.33-24.14 5.16 1.85 8.55 3.63 10.17 5.33 3.09-7 4.39-11.77 3.88-14.33-1.62-1.7-5.11-3.46-10.48-5.27.92-7.2.84-13.52-.23-18.95-1.19-6.04-3.61-9.34-7.24-9.9-4.28-.64-8.92 2.35-13.9 8.97-4.98 6.63-6.82 13.22-5.53 19.77 1.07 5.43 6.87 9.66 17.38 12.68-5.7 8.9-14.97 19.19-27.8 30.88-10.77 9.68-21.5 19.31-32.19 28.87-2.51 2.41-3.7 3.92-3.58 4.54.07.21.3.27.7.19zm52.95-85.65c-.2-1.02.56-2.27 2.3-3.73 1.74-1.46 3.17-2.3 4.3-2.53 2.36-.47 4.17.88 5.44 4.03 1.1 2.87 1.48 5.88 1.15 9.03-8.34-2.18-12.73-4.45-13.19-6.8z"
          ></path>
          <path
            id="5"
            fill="#040505"
            d="M611.01.88c-1.67 2.06-3.81 5.63-6.41 10.72-15.73 30.52-45.7 71.69-89.9 101.52-21.91 13.38-45.68 26.94-72.93 40.67 0 0-44.7 21.68-72.1 66.89-5.9 9.73-9.13 17.46-9.13 23.55 0 8.16 5.05 12.79 15.15 13.9 20.05 2.21 41.15 1.04 63.28-3.53 1.33-.29 2.37-.41 3.11-.35 1.88.07 1.47 1.2 1.48 1.44-.04.6-.37 1.4-1.06 2.43-.53.85-1.12 1.73-1.74 2.61-1.61 2.32-3.51 4.72-5.66 7.16-10.96 18.83-88.36 67.69-114.71 24.99-15.5-29.29-4.01-76.82 4.47-103.8 2.48-8.27 1.68-11.85-.52-12.15-3.18 0-4.54 3.25-5.64 6.39-8.57 21.62-25.84 68.21-49.68 105.61-23.88 37.47-59.99 64.67-78.02 76.27-11.08 7.2-11.64 9.84-11.64 10.3 0 .17.91 1.05 5.21 1.05 2.25 0 5.24-.27 8.89-.81 21.14-3.14 37.2-8.36 47.75-15.53 9.86-6.75 20.26-19.24 30.9-37.11l2.28-3.83 1.13 4.32c8.44 32.28 27.13 47.97 57.14 47.97 77.62 0 129.08-100.28 149.85-150.16.05-.13.08-.24.13-.37 1.03-2.63 1-4.72.18-6.12-.01-.01-.01-.02-.02-.03-.66-1.1-1.81-1.76-3.32-1.92-.23-.02-.43-.07-.67-.07-1.38 0-3.04.42-4.98 1.25-.52.24-1.08.48-1.62.71-14.52 6.3-39.03 9.45-67.56 9.45-1.53 0-2.98-.02-4.36-.07-6.01.64-10.8-3.52-4.63-7.94 18.38-12.42 45.88-23.92 63.05-32.6 36.72-17.42 65.14-31.56 78.21-44.02 39.66-31.92 60.1-81.17 74.78-126 1.62-5.16 2.56-9.01 2.81-11.55-.01-2.48-2.36-2.64-3.5-1.24z"
          ></path>
        </svg>
      </h1>
      <ul className={styles.subBtns}>
        <Button>تسجيل الدخول</Button>
        <Button>انضم للعضوية</Button>
      </ul>
    </nav>
  )
}

export default Nav
